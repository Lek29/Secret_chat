Набор скриптов для работы с анонимным TCP-чатом. Позволяет читать историю сообщений в реальном времени и отправлять свои сообщения, используя систему регистрации и авторизации.

## Структура проекта

* `listen_chat.py` — Скрипт для чтения чата. Подключается к серверу и сохраняет историю в файл.
* `send_minechat.py` — Скрипт для отправки сообщений и регистрации новых пользователей.
* `registration.py` — Модуль с логикой регистрации на сервере.
* `tools.py` — Вспомогательные функции (очистка текста, сохранение токена).
* `.env` — Файл конфигурации (хранит настройки подключения и ваш секретный хэш).
---
## Как установить

1. **Клонируйте репозиторий** или скачайте файлы в рабочую папку.
2. **Создайте виртуальное окружение** (рекомендуется):
   ```bash
   python -m venv .venv
   source .venv/bin/activate  # Для Linux/macOS
   .venv\Scripts\activate     # Для Windows
   ```
3. **Установите зависимости:**
```
Bash
pip install -r requirements.txt
```
---

## Настройка (Конфигурация)
Скрипты поддерживают настройку через аргументы командной строки, переменные окружения или файл `.env`. Создайте файл `.env` в корне проекта и добавьте туда следующие настройки:
```
MINECHAT_HOST=minechat.dvmn.org
MINECHAT_PORT=5000
MINECHAT_WRITE_PORT=5050
MINECHAT_HISTORY=chat_logfile.txt
ACCOUNT_HASH=ваш-секретный-хэш-здесь
```
---
## Инструкция по использованию
1. **Чтение чата (Слушатель)**.

Запустите скрипт, чтобы видеть сообщения пользователей и сохранять их в лог:

```Bash

python listen_chat.py
```
Дополнительные опции: `--host`, `--port`, `--history` (путь к файлу логов).

2. **Отправка сообщений и Регистрация**

Скрипт `send_minechat.py` автоматически определит, нужно ли вам регистрироваться.

**Если у вас нет токена (Первый запуск)**: Укажите желаемый никнейм и сообщение. Скрипт зарегистрирует вас, сохранит хэш в `.env` и отправит текст:

```Bash

python send_minechat.py --nickname "Zinaida" --message "Всем привет!"
```
**Если токен уже есть в `.env`**: Просто отправляйте сообщение:

```Bash

python send_minechat.py --message "Как дела, чат?"
```
---
## Особенности реализации
* **Безопасность**: Все сообщения проходят через функцию очистки (sanitize_text), которая удаляет символы переноса строки \n, предотвращая поломку протокола.

* **Автоматизация**: Токен регистрации автоматически дописывается в .env, избавляя от ручного копирования.

* **Отказоустойчивость**: Слушатель чата автоматически восстанавливает соединение при разрыве связи

